# 学生信息管理系统



## Author

151271022 王环宇



## 源代码



### 类

==MainWindow==

Qt中的程序主要运行界面，在这个窗口中和用户进行实时地交互，显示菜单栏，实现UI界面和实现的连接。

==AddUser==

添加用户窗口，当添加或者编辑用户的时候调用这个窗口进行显示，在窗口中提供了非常友好的选择，当修改完成后及时地将信息写入到内存中。

==Login==

程序的验证窗口。

==Student==

在这个类中保存单个用户的数据，包含id、name、sex、livingPlace、birthDate、birthPlace等。

==StudentManage==

为每个表格窗口的数据控制类，在类中实现排序，读写文件等操作，以及用户数据的添加、删除修改等操作。





## Qt说明

本程序的开始是一个登陆验证界面，验证通过之后进入主程序。本次作业能够实现多视窗运行，并且每个视窗的运行结果不会互相干扰，针对当前活跃的窗口，能够显示或者屏蔽菜单相关功能。实现了基本的添加、删除、修改用户信息，保存、另存为、打开、从文件打开等读取操作，按姓名排序和按id排序两种排序方式，以及打印预览，导出到PDF等基本操作。

在MDI区域中可以创建多个Table Widget视图，这些视图统一保存到一个容器中，并且每个视图有唯一对应的一个学生管理类和其进行连接，这些学生管理类也保存到一个容器里面，在所有的功能进行时，会获取当前活跃的MDI子窗口，通过向下造型得到TableWiget的指针，通过比对准确定位当前运行的视图，然后就能够方便地抑制某些功能图标的显示以及对每个不同的子窗口进行相应的操作。

每个文件都有默认的读取和保存路径，也能够从其他文件打开以及保存到另外的文件，文件的读取以二进制的形式进行。

由于TableWidget不直接支持打印内容，所以采取的一个方式是将当前窗口的内容按格式写成一个HTML的流，然后将这个流输出到QPrint对象中，实现预览和转PDF的功能。

打印部分参考：https://blog.csdn.net/baidu_33570760/article/details/51381524

表格内容的显示，使用的是刷新机制，在删除、修改、添加、打开等操作完成之后，将清除当前界面的信息，然后重新将内存数据按行显示到界面中。



## Qt演示截图

**登陆界面**：输入正确的用户名和密码才能进行登陆

![屏幕快照 2018-12-13 下午9.42.04](https://ws3.sinaimg.cn/large/006tNbRwly1fy5gh0naxuj30bb09374s.jpg)



**主界面**：当没有任何窗口时，会屏蔽相关功能的按键

![屏幕快照 2018-12-13 下午9.42.41](https://ws2.sinaimg.cn/large/006tNbRwly1fy5gil1gx5j30qr0lf411.jpg)

**功能按键恢复**：添加窗口后，部分功能按键恢复

![屏幕快照 2018-12-13 下午9.44.20](https://ws1.sinaimg.cn/large/006tNbRwly1fy5gkip9rwj30qs0leq5z.jpg)

![屏幕快照 2018-12-13 下午9.44.20](https://ws3.sinaimg.cn/large/006tNbRwly1fy5gk8j2etj30l907dmz8.jpg)

**打开保存的文件**：在这个基础上能够修改添加内容

![屏幕快照 2018-12-13 下午9.54.31](https://ws1.sinaimg.cn/large/006tNbRwly1fy5gme7ncsj306m09wdg7.jpg)

只有在选中某一行后，才能激活删除以及修改按钮，实现修改的功能

![屏幕快照 2018-12-13 下午9.46.22](https://ws4.sinaimg.cn/large/006tNbRwly1fy5gl36vnwj30n40fr771.jpg)



**排序功能**：在选中当前的窗口时，能够进行排序操作

![屏幕快照 2018-12-13 下午9.59.01](https://ws2.sinaimg.cn/large/006tNbRwly1fy5gr8lk0ej315e0u0wqo.jpg)

**打印**：打印功能可选打印预览，或者选择导出到pdf

![屏幕快照 2018-12-13 下午9.46.45](https://ws4.sinaimg.cn/large/006tNbRwly1fy5gnjzni4j30qp0i8goh.jpg)

![屏幕快照 2018-12-13 下午9.49.02](https://ws4.sinaimg.cn/large/006tNbRwly1fy5gnq359pj30sa0mwgp9.jpg)

以上就是所有的功能截图展示内容。